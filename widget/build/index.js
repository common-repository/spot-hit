!function(){"use strict";var e,t={396:function(){var e=window.wp.blocks,t=window.wp.element,l=window.wp.blockEditor,a=(window.wp.i18n,window.wp.components);(0,e.registerBlockType)("spothit/widget",{title:"Spot-Hit contact form",category:"widgets",description:"Spot-Hit form, allowing the registration of users in your Spot-Hit contacts.",attributes:{form_firstname:{type:"boolean",default:!0},form_lastname:{type:"boolean",default:!0},form_phone:{type:"boolean",default:!0},form_email:{type:"boolean",default:!0},form_style:{type:"string",default:"light"},text_title:{type:"string",default:"Title"},text_description:{type:"string",default:"Description"},text_firstname:{type:"string",default:"Firstname"},text_lastname:{type:"string",default:"Lastname"},text_phone:{type:"string",default:"Phone number"},text_email:{type:"string",default:"Email address"},text_submit:{type:"string",default:"Submit"}},textdomain:"spothit",editorScript:"file:./index.js",editorStyle:"file:./index.css",style:"file:./style-index.css",edit:function(e){let{attributes:n,setAttributes:o}=e;const r=(0,l.useBlockProps)(),[i,s]=(0,t.useState)(!1),m=()=>s(!1);function c(e,t){let l=String('[data-spotfield="'+e+'"]');document.querySelector(l).style.display=t?"block":"none"}return(0,t.useEffect)((()=>{c("firstname",n.form_firstname),c("lastname",n.form_lastname),c("phone",n.form_phone),c("email",n.form_email)}),[]),(0,t.useEffect)((()=>{!1===n.form_phone&&!1===n.form_email&&(s(!0),o({form_phone:!0}),document.querySelector('[data-spotfield="phone"]').style.display="block")}),[n.form_firstname,n.form_lastname,n.form_phone,n.form_email]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Title, description and Submit button",initialOpen:!1},(0,t.createElement)("p",null,"To modify the title, the description or the send button, click directly on the element and write the text. Leave the field blank to not display it.")),(0,t.createElement)(a.PanelBody,{title:"Required fields",initialOpen:!1},(0,t.createElement)("p",null,"Select the fields that will be required in the form."),(0,t.createElement)(a.CheckboxControl,{label:"Firstname",help:"Add the firstname field ?",onChange:()=>{o({form_firstname:!n.form_firstname}),c("firstname",!n.form_firstname)},checked:n.form_firstname}),(0,t.createElement)(a.CheckboxControl,{label:"Lastname",help:"Add the lastname field ?",onChange:()=>{o({form_lastname:!n.form_lastname}),c("lastname",!n.form_lastname)},checked:n.form_lastname}),(0,t.createElement)(a.CheckboxControl,{label:"Phone number",help:"Add the phone number field ?",onChange:()=>{o({form_phone:!n.form_phone}),c("phone",!n.form_phone)},checked:n.form_phone}),(0,t.createElement)(a.CheckboxControl,{label:"Email address",help:"Add the email address field ?",onChange:()=>{o({form_email:!n.form_email}),c("email",!n.form_email)},checked:n.form_email})),(0,t.createElement)(a.PanelBody,{title:"Form style",initialOpen:!1},(0,t.createElement)(a.__experimentalRadioGroup,{label:"style",onChange:e=>{console.log(e),o({form_style:e})},checked:n.form_style},(0,t.createElement)(a.__experimentalRadio,{value:"light"},"Light"),(0,t.createElement)(a.__experimentalRadio,{value:"dark"},"Dark")))),(0,t.createElement)("div",r,(0,t.createElement)("div",{className:"container"},(0,t.createElement)("section",{id:"spothit_widget",className:"col-md-8 col-sm-12 offset-md-2 p-3 section-"+n.form_style},(0,t.createElement)("div",{class:"container"},(0,t.createElement)("div",{class:"row"},(0,t.createElement)("div",{class:"col-md-12 mb-3"},(0,t.createElement)("div",{class:"row"},(0,t.createElement)("div",{class:"section-title col-md-12 mb-2"},(0,t.createElement)(l.RichText,{tagName:"h2",placeholder:"Title",value:n.text_title,className:"section-title",onChange:e=>o({text_title:e})}))),(0,t.createElement)("div",{class:"row"},(0,t.createElement)(l.RichText,{tagName:"div",placeholder:"Description",id:"spot-section-description",value:n.text_description,className:"col-md-12",onChange:e=>o({text_description:e})})))),(0,t.createElement)("div",{id:"spot_fields_block",class:"col-md-12"},(0,t.createElement)("form",{id:"spothit_widget_form"},(0,t.createElement)("div",{class:"form-group label-floating","data-spotfield":"firstname"},(0,t.createElement)(l.RichText,{tagName:"label",value:n.text_firstname,className:"control-label",onChange:e=>o({text_firstname:e}),style:{cursor:"text"}}),(0,t.createElement)("input",{class:"form-control",type:"text",name:"firstname"}),(0,t.createElement)("div",{class:"help-block error_msg"})),(0,t.createElement)("div",{class:"form-group label-floating","data-spotfield":"lastname"},(0,t.createElement)(l.RichText,{tagName:"label",value:n.text_lastname,className:"control-label",onChange:e=>o({text_lastname:e}),style:{cursor:"text"}}),(0,t.createElement)("input",{class:"form-control",type:"text",name:"lastname"}),(0,t.createElement)("div",{class:"help-block error_msg"})),(0,t.createElement)("div",{class:"form-group label-floating","data-spotfield":"email"},(0,t.createElement)(l.RichText,{tagName:"label",value:n.text_email,className:"control-label",onChange:e=>o({text_email:e}),style:{cursor:"text"}}),(0,t.createElement)("input",{class:"form-control",type:"email",name:"email"}),(0,t.createElement)("div",{class:"help-block error_msg"})),(0,t.createElement)("div",{class:"form-group label-floating","data-spotfield":"phone"},(0,t.createElement)(l.RichText,{tagName:"label",value:n.text_phone,className:"control-label",onChange:e=>o({text_phone:e}),style:{cursor:"text"}}),(0,t.createElement)("input",{class:"form-control",type:"text",name:"mobile"}),(0,t.createElement)("div",{class:"help-block error_msg"})),(0,t.createElement)("div",{class:"form-submit mt-5"},(0,t.createElement)(l.RichText,{tagName:"button",id:"spot_submit_btn",value:n.text_submit,className:"btn btn-common w-100",onChange:e=>o({text_submit:n.text_submit}),onClick:e=>e.preventDefault(),onSubmit:e=>e.preventDefault(),style:{cursor:"text"}}),(0,t.createElement)("div",{class:"clearfix"})))))))),(0,t.createElement)("div",{class:"d-flex w-100 flex-column justify-content-center text-center"},(0,t.createElement)("i",{class:"fa-regular fa-circle-info fa-lg"}),(0,t.createElement)("p",{class:"col-md-8 col-sm-12 offset-md-2 text-center"},"You can edit field labels, title and description by clicking on them")),i&&(0,t.createElement)(a.Modal,{title:"Spot-Hit",onRequestClose:m},(0,t.createElement)("p",null,"The form requires the SMS or Email field at least."),(0,t.createElement)(a.Button,{variant:"secondary",onClick:m},"Close")))},save:function(e){let{attributes:a}=e;const n=l.useBlockProps.save();let o="[spothit_short",r=u(a.text_title),i=u(a.text_description),s=[a.form_firstname,u(a.text_firstname)],m=[a.form_lastname,u(a.text_lastname)],c=[a.form_phone,u(a.text_phone)],f=[a.form_email,a.text_email],d=a.form_style,p=u(a.text_submit);function u(e){return(e=(e=(e=(e=(e=e.replaceAll("<","!/%%?")).replaceAll(">","!//%%?")).replaceAll('"',"!|%%?")).replaceAll("'","!||%%?")).replaceAll("`","!_|%%?")).replaceAll(" ","!__%%?")}return console.log(r),r&&(o+=` title ="${r}"`),i&&(o+=` description ="${i}"`),s[0]&&(o+=` firstname ="${s[1]}"`),m[0]&&(o+=` lastname ="${m[1]}"`),c[0]&&(o+=` phone ="${c[1]}"`),f[0]&&(o+=` email ="${f[1]}"`),o+=` style ="${d}" submit="${p}"`,o+="][/spothit_short]",(0,t.createElement)("div",n,o)}})}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=function(t,l,n,o){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,s=0;s<l.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(i=!1,o<r&&(r=o));if(i){e.splice(c--,1);var m=n();void 0!==m&&(t=m)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,r=l[0],i=l[1],s=l[2],m=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var c=s(a)}for(t&&t(l);m<r.length;m++)o=r[m],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self.webpackChunktodo_list=self.webpackChunktodo_list||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var n=a.O(void 0,[431],(function(){return a(396)}));n=a.O(n)}();